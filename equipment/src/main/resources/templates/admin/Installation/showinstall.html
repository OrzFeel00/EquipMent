<!DOCTYPE html>
<html lang="zh-CN" xmlns:th="www.thymeleaf.org">
<head>
	
	<!-- start: Meta -->
	<meta charset="utf-8">
	<title>安装信息展示</title>
	<meta name="description" content="Bootstrap Metro Dashboard">
	<meta name="author" content="">
	<meta name="keyword" content="">
	<!-- end: Meta -->
	
	<!-- start: Mobile Specific -->
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<!-- end: Mobile Specific -->
	
	<!-- start: CSS -->
	<link id="bootstrap-style" href="admin/css/bootstrap.min.css" rel="stylesheet">
	<link href="admin/css/bootstrap-responsive.min.css" rel="stylesheet">
	<link id="base-style" href="admin/css/style.css" rel="stylesheet">
	<link id="base-style-responsive" href="admin/css/style-responsive.css" rel="stylesheet">
	<link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800&subset=latin,cyrillic-ext,latin-ext' rel='stylesheet' type='text/css'>
	<!-- end: CSS -->
	

	<!-- The HTML5 shim, for IE6-8 support of HTML5 elements -->
	<!--[if lt IE 9]>
	  	<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
		<link id="ie-style" href="css/ie.css" rel="stylesheet">
	<![endif]-->
	
	<!--[if IE 9]>
		<link id="ie9style" href="css/ie9.css" rel="stylesheet">
	<![endif]-->
		
	<!-- start: Favicon -->
	<link rel="shortcut icon" href="admin/img/favicon.ico">
	<!-- end: Favicon -->
	<!--layui 核心css文件-->
    <link rel="stylesheet" href="layui/css/layui.css">
	<!--start:easyui -->
	<link rel="stylesheet" type="text/css" href="admin/easyui/themes/default/easyui.css">
	<link rel="stylesheet" type="text/css" href="admin/easyui/themes/icon.css">
	<script type="text/javascript" src="admin/easyui/jquery.min.js"></script>
	<script type="text/javascript" src="admin/easyui/jquery.easyui.min.js"></script>
	<script type="text/javascript" src="admin/easyui/locale/easyui-lang-zh_CN.js"></script>
	<!--end:easyui-->

	


</head>

<body>
<div id="app">
			<!-- start: Header -->
	<div class="navbar">
		<div class="navbar-inner">
			<div class="container-fluid">
				<a class="btn btn-navbar" data-toggle="collapse" data-target=".top-nav.nav-collapse,.sidebar-nav.nav-collapse">
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
				</a>
				<a class="brand" href="Index"><span>设备管理系统</span></a>
								
				<!-- start: Header Menu -->
				<div class="nav-no-collapse header-nav">
					<ul class="nav pull-right">
						<!-- start: User Dropdown -->
						<li class="dropdown">
							<a class="btn dropdown-toggle" data-toggle="dropdown" href="#">
								<i class="halflings-icon white user"></i> 
								<span class="caret"></span>
							</a>
							<ul class="dropdown-menu">
								<li class="dropdown-menu-title">
 									<span>基本管理</span>
								</li>
								
								<li><a href="toadlogin"><i class="halflings-icon off"></i> 退出本系统</a></li>
							</ul>
						</li>
						<!-- end: User Dropdown -->
					</ul>
				</div>
				<!-- end: Header Menu -->
				
			</div>
		</div>
	</div>
	<!-- start: Header -->
	
		<div class="container-fluid-full">
		<div class="row-fluid">
				
			<!-- start: Main Menu -->
			<div id="sidebar-left" class="span2">
				<div class="nav-collapse sidebar-nav">
					<ul class="nav nav-tabs nav-stacked main-menu">
						<li><a href="Index"><i class="icon-home"></i><span class="hidden-tablet"> 首页</span></a></li>
					
						
						
						<li>
							<a class="dropmenu" href="#"><i class="icon-truck"></i><span class="hidden-tablet">基本信息录入管理</span> <span class="label label-important"> 3 </span></a>
							<ul>
								<li><a class="submenu" href="toPoint"><i class="icon-signout"></i><span class="hidden-tablet"> 点位录入</span></a></li>
								<li><a class="submenu" href="toroad"><i class="icon-signout"></i><span class="hidden-tablet"> 街道录入</span></a></li>
								<li><a class="submenu" href="toEquipment"><i class="icon-signout"></i><span class="hidden-tablet"> 设备录入</span></a></li>
							</ul>
						</li>
						
							<li>
							<a class="dropmenu" href="#"><i class="icon-truck"></i><span class="hidden-tablet"> 基本信息修改管理</span> <span class="label label-important"> 3 </span></a>
							<ul>
								<li><a class="submenu" href="toshowpoint"><i class="icon-signout"></i><span class="hidden-tablet"> 点位修改</span></a></li>
								<li><a class="submenu" href="toshowroad"><i class="icon-signout"></i><span class="hidden-tablet"> 街道修改</span></a></li>
								<li><a class="submenu" href="toshowept"><i class="icon-signout"></i><span class="hidden-tablet"> 设备修改</span></a></li>
							</ul>
						</li>
						<li>
							<a class="dropmenu" href="#"><i class="icon-truck"></i><span class="hidden-tablet"> 项目管理</span> <span class="label label-important"> 2 </span></a>
							<ul>
								<li><a class="submenu" href="toproject"><i class="icon-signout"></i><span class="hidden-tablet"> 项目信息录入</span></a></li>
								<li><a class="submenu" href="toshowproject"><i class="icon-signout"></i><span class="hidden-tablet"> 项目信息修改</span></a></li>
							</ul>
						</li>
					
							
							<li><a href="toshowinstall"><i class="icon-edit"></i><span class="hidden-tablet"> 安装信息管理</span></a></li>
						<li><a href="toshowLaw"><i class="icon-edit"></i><span class="hidden-tablet"> 执法信息管理</span></a></li>
							<li><a href="toshowtoDevop"><i class="icon-edit"></i><span class="hidden-tablet"> 运维信息管理</span></a></li>
						
					</ul>
				</div>
			</div>
			<!-- end: Main Menu -->
			
			<noscript>
				<div class="alert alert-block span10">
					<h4 class="alert-heading">Warning!</h4>
					<p>You need to have <a href="" target="_blank">JavaScript</a> enabled to use this site.</p>
				</div>
			</noscript>
			<!-- end: Main Menu -->

		<!-- start: Content  中心页显示 -->
		<div id="content" class="span10">

          <!-- 页头 
			<ul class="breadcrumb">
				<li>
					<i class="icon-home"></i>
					<a href="admin/index.html">主页</a>
					<i class="icon-angle-right"></i>
				</li>
				<li><a href="#">订单管理</a></li>
			</ul>
			-->
			
			  <!-- 表头 -->
			<div>		
				<form  action="showinstall.do" method="post">
		      
				<div id="pointName"  style="margin-left:10px;font-weight:bold;float: left">
			  	  点位名称：<input name="pointName" style="width: 120px;height: 30px;border-radius: 10px;border: solid 2px;" type="text"placeholder="点位名称"/>   </div>
			  
				<div id="equipmentName"   style="margin-left:10px;font-weight:bold;float: left">
				 设备名称：<input  name="equipmentName" style="width: 120px;height: 30px;border-radius: 10px;border: solid 2px;" type="text"placeholder="设备名称"/>	</div>
				  
				<div id="transmissionType"   style="margin-left:10px;font-weight:bold;float: left">
			    传输类型<input name="transmissionType"  style="width: 120px;height: 30px;border-radius: 10px;border: solid 2px;" type="text"placeholder="传输类型"/>	</div>
			     
				<div id="computerRoom"  style="margin-left:10px;font-weight:bold;float: left">
				  接入机房：<input name="computerRoom"  style="width: 120px;height: 30px;border-radius: 10px;border: solid 2px;" type="text"placeholder="接入机房"/>	</div>
				  
				<div   id="ip" style="margin-left:10px;font-weight:bold;float: left">
				  ip地址：<input name="ip"  style="width: 120px;height: 30px;border-radius: 10px;border: solid 2px;" type="text"placeholder="ip地址"/>	</div>
			
			
				<div style="margin-left:10px;font-weight:bold;float: left">
					 <!--按钮--> 					      
			      	<button id="btn-sor" class="layui-btn" type="submit" >搜索</button></div>		      
			       <button id="btn-re" class="layui-btn layui-btn-primary"  type="reset" >重置</button>
			     			  						
		      	</form>
	    	</div>
						        <!--   fixed: 'right'   style="table-layout:fixed"--> 
							<hr>
			<div >
						  <table class="layui-table" id="t" lay-filter="demo" lay-data="{id: 'idTest'}"  >
						  <thead>
						 <tr>
						   <th lay-data="{field: 'id' ,sort: true, width:100 }">ID</th>
						   <th lay-data="{field:'installationPosition', width:200}">安装位置</th>
						   <th lay-data="{field:'direction', width: 150}">方向</th>
						   <th lay-data="{field:'lanes', width: 150, sort: true}">车道数</th>
						   <th lay-data="{field:'powerPoint', width: 150}">供电的点位</th>
						   <th lay-data="{field:'pointName', width: 150}">点位名称</th>
						   <th lay-data="{field:'equipmentName', width: 150}">设备名称</th>
						   <th lay-data="{field:'transmissionType', width: 130}">传输类型</th>
						   <th lay-data="{field:'computerRoom', width:150}">接入机房</th>
						   <th lay-data="{field:'networkAttribute',width: 200}">联网属性</th>
						   <th lay-data="{field:'idcard', width:150}">通讯卡号</th>
						   <th lay-data="{field:'accessNetwork', width:150}">接入网络</th>
						   <th lay-data="{field:'router', width:150}">路由</th>
						   <th lay-data="{field:'networkTiming', width:150}">联网校时功能</th>
						   <th lay-data="{field:'timingWarning', width:150}">校时情况预警功能</th>
						   <th lay-data="{field:'verificationDeadline', width:180}">检定有效截止时间</th>
						   <th lay-data="{field:'ip', width:150}">ip地址</th>
						   <th lay-data="{field:'mac', width:150}">mac地址</th>
						   <th lay-data="{field:'prot', width:150}">端口号</th>
						
						   <th lay-data="{fixed: 'right',width:190, align:'center', toolbar: '#barDemo'}">操作</th>
						   <th lay-data="{width: 760}"></th>
						 </tr>
						  </thead>
						  <tbody>
						  
						     <tr th:each="p : ${installlist} " >
						      <td th:text="${p.id}">ID</td>
						      <td th:text="${p.installationPosition}">安装位置</td>
						      <td th:text="${p.direction}">方向</td>
						      <td th:text="${p.lanes}">车道数</td>
						      <td th:text="${p.powerPoint}">供电的点位</td>
						      <td th:text="${p.pointName}">点位名称</td>
						      <td th:text="${p.equipmentName}">设备名称</td>
						      <td th:text="${p.transmissionType}">传输类型</td>
						      <td th:text="${p.computerRoom}">接入机房</td>	
						      <td th:text="${p.networkAttribute}">联网属性</td>	
						      <td th:text="${p.idcard}">通讯卡号</td>	
						      <td th:text="${p.accessNetwork}">接入网络</td>	
						      <td th:text="${p.router}">路由</td>	
						      <td th:text="${p.networkTiming}">联网校时功能</td>	
						      <td th:text="${p.timingWarning}">校时情况预警功能</td>	
						      <td th:text="${#dates.format(p.verificationDeadline,'yyyy-MM-dd HH:mm:ss')}">检定有效截止时间</td>	
						      <td th:text="${p.ip}">ip地址</td>	
						      <td th:text="${p.mac}">mac地址</td>	
						      <td th:text="${p.prot}">端口号</td>		     		      
						    </tr>		    
					   
						  </tbody>
						</table>
						
						<!--  -->
						</div>
							<!--表格工具栏-->
	<script type="text/html" id="tool">
	<div class="layui-btn-container">
	<!--lay-event 给元素绑定事件名称-->
	  <button class="layui-btn" lay-event="add">添加安装信息</button>

	</div>
	</script>
						
						<!--  -->
					<script type="text/html" id="barDemo">
  <a class="layui-btn layui-btn-xs" lay-event="edit">编辑</a>
  <a class="layui-btn layui-btn-danger layui-btn-xs" lay-event="del">删除</a>
  <a class="layui-btn  layui-btn-xs" lay-event="isn">历史端口</a>
</script>
		  <!-- 表头 -->	
			
			
			
				

				
					<!--end span10-->
			</div>
		</div>
	</div>
</div>
		

	<footer>

		<p>
			<span style="text-align:center; margin-left: 40%">Copyright &copy;新视达视讯工程有限公司</span>			
		</p>

	</footer>
	
	
	<!-- layui模块化js核心文件-->
	    <script src="layui/layui.js" type="text/javascript" charset="UTF-8"></script>
	
	
	<script>
	
	function reftabbel(){
		$("#btn-re").click();
		$("#btn-sor").click();
	}
	
	
	
	
layui.use([ 'form','element','jquery','layer','table','laypage'], function(){
      var layer = layui.layer
      ,form = layui.form
      ,element = layui.element
      ,$= layui.$
      ,table=layui.table;
      var dataList;
      //转换静态表格
     table.init('demo', {
        height: '710' //设置高度
        ,width :'2180'
        ,limit: 15 //注意：请务必确保 limit 参数（默认：10）是与你服务端限定的数据条数一致   
        ,title:'安装信息'
        ,loading:true 
        ,toolbar:true  
        ,page: true
        , defaultToolbar: ['filter', 'print', 'exports',{icon: 'layui-icon-prev'},1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]
        ,toolbar:"#tool"
        //支持所有基础参数
      });
      
       
    //监听工具条
  table.on('tool(demo)', function(obj){
    var data = obj.data;
    console.log(data.pointId);
    if(obj.event === 'del'){
    	layer.open({
  		  type: 2, 
  		  closeBtn: 0,
  		  title: ['删除', 'font-size:20px;'],
  		  area: ['500px', '400px'],
  		  content: 'todellinstall', //这里content是一url
  		  success:function(layero, index){
			  var body = layer.getChildFrame('body', index);
			    var iframeWin = window[layero.find('iframe')[0]['name']]; //得到iframe页的窗口对象，执行iframe页的方法：iframeWin.method();
			    console.log(body.html()) //得到iframe页的body内容
			    body.find('#id').val(data.id)	 
			    body.find('#equipmentName').val(data.equipmentName)	
			    body.find('#pointName').val(data.pointName)	
			  }
  		});
    	
    } else if(obj.event === 'edit'){
    	
    	
    	layer.open({
    		  type: 2, 
    		  scrollbar:false,
    		  closeBtn: 0,
    		  title: ['安装信息修改', 'font-size:20px;'],
    		  area: ['600px', '800px'],   	
    		  content: ['toedtinstall'],//这里content是一url
    		  success:function(layero, index){
    			  var body = layer.getChildFrame('body', index);
    			    var iframeWin = window[layero.find('iframe')[0]['name']]; //得到iframe页的窗口对象，执行iframe页的方法：iframeWin.method();
    			    console.log(body.html()) //得到iframe页的body内容
    			    body.find('#id').val(data.id)
    			    body.find('#installationPosition').val(data.installationPosition)
    			    body.find('#direction').val(data.direction)
    			    body.find('#lanes').val(data.lanes)
    			    body.find('#powerPoint').val(data.powerPoint)
    			    body.find('#pointName').val(data.pointName)
    			    body.find('#equipmentName').val(data.equipmentName)
    			    body.find('#transmissionType').val(data.transmissionType)
    			    body.find('#computerRoom').val(data.computerRoom)
    			    body.find('#networkAttribute').val(data.networkAttribute)
    			    body.find('#idcard').val(data.idcard)
    			    body.find('#accessNetwork').val(data.accessNetwork)
    			    body.find('#router').val(data.router)
    			    body.find('#networkTiming').val(data.networkTiming)
    			    body.find('#timingWarning').val(data.timingWarning)
    			    body.find('#verificationDeadline').val(data.verificationDeadline)
    			    body.find('#ip').val(data.ip)
    			    body.find('#mac').val(data.mac)
    			    body.find('#prot').val(data.prot)
    			  }
    		});
    }else if(obj.event === 'isn'){
    	
    	
    	layer.open({
    		  type: 2, 
    		  scrollbar:false,
    		  closeBtn: 0,
    		  title: ['查看该点位上的设备历史端口', 'font-size:20px;'],
    		  area: ['800px', '600px'],   	
    		  content: ['toinsprot','no'],//这里content是一url
    		  success:function(layero, index){
    			  var body = layer.getChildFrame('body', index);
    			    var iframeWin = window[layero.find('iframe')[0]['name']]; //得到iframe页的窗口对象，执行iframe页的方法：iframeWin.method();
    			    console.log(body.html()) //得到iframe页的body内容	  
    			    body.find('#pointName').val(data.pointName)
    			    body.find('#equipmentName').val(data.equipmentName)
    			 
    			  }
    		});
    }
    
  });

    
  table.on('toolbar(demo)',function(obj){
		 //console.log(obj);
		   //在obj.config对象中可以获取id属性值 ，即表示当前容器的id属性值，也就是text
		   
		   //获取当前表格被选中记录对象，返回数据
		   
		   var eventName=obj.event;//获取事件名称
		  if(eventName =="add"){
			  layer.open({
	    		  type: 2, 
	    		  closeBtn: 0,
	    		  title: ['录入安装信息', 'font-size:20px;'],
	    		  area: ['600px', '800px'],
	    		  content: 'toaddinstall' //这里content是一个普通url
	    		});
			  
		  }   
		   
	   });
    
      
    
      
     
     
  
  $('.demoTable .layui-btn').on('click', function(){
    var type = $(this).data('type');
    active[type] ? active[type].call(this) : '';
  });
});
</script>
 
	
	
	
	
	
	
	
	<!-- start: JavaScript-->
        <script src="admin/js/jquery-1.9.1.min.js"></script>
	    <script src="admin/js/jquery-migrate-1.0.0.min.js"></script>
	
		<script src="admin/js/jquery-ui-1.10.0.custom.min.js"></script>
	
		<script src="admin/js/jquery.ui.touch-punch.js"></script>
	
		<script src="admin/js/modernizr.js"></script>
	
		<script src="admin/js/bootstrap.min.js"></script>
	
		<script src="admin/js/jquery.cookie.js"></script>
	
		<script src='admin/js/fullcalendar.min.js'></script>
	
		<script src='admin/js/jquery.dataTables.min.js'></script>

		<script src="admin/js/excanvas.js"></script>
        <script src="admin/js/jquery.flot.js"></script>
        <script src="admin/js/jquery.flot.pie.js"></script>
        <script src="admin/js/jquery.flot.stack.js"></script>
        <script src="admin/js/jquery.flot.resize.min.js"></script>

		<script src="admin/js/jquery.chosen.min.js"></script>
	
		<script src="admin/js/jquery.uniform.min.js"></script>
		
		<script src="admin/js/jquery.cleditor.min.js"></script>
	
		<script src="admin/js/jquery.noty.js"></script>
	
		<script src="admin/js/jquery.elfinder.min.js"></script>
	
		<script src="admin/js/jquery.raty.min.js"></script>
	
		<script src="admin/js/jquery.iphone.toggle.js"></script>
	
		<script src="admin/js/jquery.uploadify-3.1.min.js"></script>
	
		<script src="admin/js/jquery.gritter.min.js"></script>
	
		<script src="admin/js/jquery.imagesloaded.js"></script>
	
		<script src="admin/js/jquery.masonry.min.js"></script>
	
		<script src="admin/js/jquery.knob.modified.js"></script>
	
		<script src="admin/js/jquery.sparkline.min.js"></script>
	
		<script src="admin/js/counter.js"></script>
	
		<script src="admin/js/retina.js"></script>

		<script src="admin/js/custom.js"></script>
	<!-- end: JavaScript-->
	
</body>
</html>
